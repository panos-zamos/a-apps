# deploy/.env
#
# This file provides configuration for `deploy/docker-compose.yml` (via `--env-file deploy/.env`).
# It is intentionally NOT committed (see .gitignore) because it contains secrets.
#
# Why this matters:
# - DOMAIN is used by Caddy to select the correct site and to request an ACME/Let's Encrypt certificate.
#   If DOMAIN is missing/wrong, TLS handshakes can fail (e.g. ERR_SSL_PROTOCOL_ERROR / no certificate).
# - REGISTRY + IMAGE_TAG define which images the droplet will pull.
# - JWT_SECRET must be identical across app containers so auth tokens remain valid.
#

### Public hostname (must resolve to this droplet)
DOMAIN=holisticagency.com

### Docker image registry prefix (no trailing slash)
# Example (DigitalOcean): registry.digitalocean.com/<your-registry>
REGISTRY=registry.digitalocean.com/holisticagency

### Image tag to deploy
IMAGE_TAG=latest

### App secrets (REQUIRED in production)
# Generate with: openssl rand -hex 32
JWT_SECRET=change-me

### Registry auth (required if REGISTRY is private)
# If REGISTRY_HOST is empty, deploy scripts will derive it from REGISTRY.
REGISTRY_HOST=registry.digitalocean.com/holisticagency
REGISTRY_USER=you@example.com
REGISTRY_TOKEN=your-registry-token

### Optional knobs
# Skip registry login during deploy if the droplet is already authenticated (docker login done manually)
# SKIP_REGISTRY_LOGIN=1
